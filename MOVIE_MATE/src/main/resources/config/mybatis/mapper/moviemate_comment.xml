<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mmcomment">
	<select id="selectList" resultType="vo.MovieMate_CommentVO" parameterType="vo.MovieMate_MovieVO">
		SELECT * FROM moviemate_comment WHERE m_ref = #{movie_idx} AND comment_idx = c_ref
	</select>
	
	<select id="myComment" resultType="vo.MovieMate_CommentVO" parameterType="vo.MovieMate_CommentVO">
		SELECT * FROM moviemate_comment WHERE com_username = #{com_username} AND m_ref = #{m_ref}
	</select>
	
	<insert id="insert" parameterType="vo.MovieMate_CommentVO">
		INSERT INTO moviemate_comment VALUES(seq_comment_idx.nextVal,#{com_username},#{com_content},
		0, #{m_ref}, 0, 0, 0, seq_comment_idx.currVal, sysdate)
	</insert>
	
	<update id="update" parameterType="vo.MovieMate_CommentVO">
		UPDATE moviemate_comment SET com_content = #{com_content}
		WHERE comment_idx = #{comment_idx}
	</update>
</mapper>








